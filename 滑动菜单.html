<!Doctype >
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" /> 
<title>无标题</title>
<style>
	*{
		padding: 0;
		margin: 0;
	}
	li{
		list-style: none;
	}
	ul{
		width: 400px;
		height: 30px;
		position: relative;
		margin: 100px auto 0;
	}
	li{
		float: left;
		width: 98px;
		height: 28px;
		line-height: 28px;
		border: 1px solid #eee;
		text-align: center;
		z-index: 2;
		position: relative;
		cursor: pointer;
	}
	.bg{
		width: 100px;
		height: 5px;
		overflow: hidden;
		background: blue;
		border: none;
		position: absolute;
		top: 24px;
		left: 0;
		z-index: 1;
	}
</style>
</head>
<body>
	<ul id="ul1">
		<li>首页</li>
		<li>关于我们</li>
		<li>产品</li>
		<li>练习方式</li>
		<li class="bg"></li>
	</ul>
</body>
<script>
window.onload =function ()
{
	var oUl=document.getElementById('ul1');
	var oLi=oUl.getElementsByTagName('li');
	var oBj=oLi[oLi.length-1];
	var i =0;

	for(i=0;i<oLi.length-1;i++)
	{
		oLi[i].onmouseover=function()
		{
			startMove(oBj, this.offsetLeft);
		}
	}
}

var iSpeed=0;
var left=0;
function startMove(obj, iTarget)
{
	clearInterval(obj.timer);
	obj.timer=setInterval(function (){
		iSpeed+=(iTarget-obj.offsetLeft)/5;
		iSpeed*=0.7;
		//iSpeed=iSpeed>0?Math.ceil(iSpeed):Math.floor(iSpeed);
		left+=iSpeed;
		if(Math.abs(iSpeed)<1&&Math.abs(left-iTarget)<1)
		{
			clearInterval(obj.timer);
			obj.style.left=iTarget+'px';
			// alert(0);
		}
		else
		{
			obj.style.left=left+'px';		
		}
	},30);
}
</script>
</html>
